{"version":3,"file":"blocks/accordion-cpt/index.js","mappings":"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","sources":["webpack://comparison-of-religions/./src/blocks/accordion-cpt/editor.scss","webpack://comparison-of-religions/external window \"React\"","webpack://comparison-of-religions/external window [\"wp\",\"i18n\"]","webpack://comparison-of-religions/./src/blocks/accordion-cpt/edit.js","webpack://comparison-of-religions/webpack/bootstrap","webpack://comparison-of-religions/webpack/runtime/define property getters","webpack://comparison-of-religions/webpack/runtime/hasOwnProperty shorthand","webpack://comparison-of-religions/webpack/runtime/make namespace object","webpack://comparison-of-religions/./src/blocks/accordion-cpt/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"i18n\"];","import { __ } from '@wordpress/i18n';\r\nconst { useSelect } = wp.data;\r\nconst { useBlockProps } = wp.blockEditor;\r\nimport './editor.scss';\r\nimport { useRef } from 'react';\r\n\r\nconst Edit = ({ attributes, setAttributes }) => {\r\n    const blockProps = useBlockProps();\r\n\r\n    const comparisons = useSelect(\r\n        (select) =>\r\n            select(\"core\").getEntityRecords(\"postType\", \"comparison\", {\r\n                per_page: -1,\r\n                _fields: [\"id\", \"title.rendered\", \"content.rendered\"],\r\n                orderby: \"date\",\r\n                order: \"asc\",\r\n            }),\r\n        []\r\n    );\r\n\r\n    const [openAccordions, setOpenAccordions] = React.useState({});\r\n    const accordionRefs = useRef({});\r\n\r\n    const toggleAccordion = (index) => {\r\n        setOpenAccordions((prevState) => ({\r\n            ...prevState,\r\n            [index]: !prevState[index],\r\n        }));\r\n    };\r\n\r\n    const parseContent = (content) => {\r\n        try {\r\n            const strippedContent = content.replace(/<\\/?[^>]+(>|$)/g, \"\").trim();\r\n            const decodedContent = strippedContent.replace(/&#(\\d+);/g, (match, dec) =>\r\n                String.fromCharCode(dec)\r\n            );\r\n            const cleanedContent = decodedContent\r\n                .replace(/'/g, '\"')\r\n                .replace(/„/g, '\"')\r\n                .replace(/”/g, '\"');\r\n            return JSON.parse(cleanedContent);\r\n        } catch (err) {\r\n            console.error(\"JSON Parsing Error:\", err);\r\n            console.error(\"Invalid content:\", content);\r\n            return [];\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div {...blockProps}>\r\n            <div className=\"comparison-accordion\">\r\n                {comparisons && comparisons.length > 0 ? (\r\n                    comparisons.map((comparison, index) => {\r\n                        const parsedContent = parseContent(comparison.content.rendered);\r\n                        const isOpen = openAccordions[index];\r\n\r\n                        return (\r\n                            <div key={comparison.id} className=\"comparison-accordion__item\">\r\n                                <div className=\"comparison-accordion__header\" id={`heading-${index}`}>\r\n                                    <button\r\n                                        className={`comparison-accordion__toggle ${isOpen ? \"\" : \"comparison-accordion__toggle--collapsed\"}`}\r\n                                        type=\"button\"\r\n                                        onClick={() => toggleAccordion(index)}\r\n                                    >\r\n                                        {comparison.title.rendered}\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div\r\n                                    id={`collapse-${index}`}\r\n                                    className={`comparison-accordion__content ${isOpen ? \"comparison-accordion__content--visible\" : \"\"}`}\r\n                                    ref={(el) => (accordionRefs.current[index] = el)}\r\n                                    style={{\r\n                                        maxHeight: isOpen\r\n                                            ? `${accordionRefs.current[index]?.scrollHeight || 0}px`\r\n                                            : \"0\",\r\n                                        transition: \"max-height 0.6s ease-in-out\",\r\n                                    }}\r\n                                >\r\n                                    <div className=\"comparison-accordion__body\">\r\n                                        <div className=\"comparison-accordion__header-row\">\r\n                                            <div className=\"comparison-accordion__column\">\r\n                                                <h4>{__(\"Topic\", \"text-domain\")}</h4>\r\n                                            </div>\r\n                                            <div className=\"comparison-accordion__column\">\r\n                                                <h4>{__(\"Roman Catholic Church\", \"text-domain\")}</h4>\r\n                                            </div>\r\n                                            <div className=\"comparison-accordion__column\">\r\n                                                <h4>{__(\"Pentecostal Church\", \"text-domain\")}</h4>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"comparison-accordion__content-grid\">\r\n                                            {parsedContent &&\r\n                                                parsedContent.map((item, itemIndex) => {\r\n                                                    const maxRows = Math.max(item.catholic.length, item.protestant.length);\r\n\r\n                                                    const rows = Array.from({ length: maxRows }, (_, rowIndex) => ({\r\n                                                        catholic: item.catholic[rowIndex] || \"\",\r\n                                                        protestant: item.protestant[rowIndex] || \"\",\r\n                                                    }));\r\n\r\n                                                    return (\r\n                                                        <div key={itemIndex} className=\"comparison-accordion__row\">\r\n                                                            <div className=\"comparison-accordion__column comparison-accordion__column--topic\">\r\n                                                                <p className=\"comparison-accordion__topic\">{item.topic}</p>\r\n                                                            </div>\r\n                                                            <div className=\"comparison-accordion__column comparison-accordion__column--combined\">\r\n                                                                {rows.map((row, rowIndex) => (\r\n                                                                    <div key={rowIndex} className=\"comparison-accordion__combined-row\">\r\n                                                                        <p className=\"comparison-accordion__paragraph\">{row.catholic}</p>\r\n                                                                        <p className=\"comparison-accordion__paragraph\">{row.protestant}</p>\r\n                                                                    </div>\r\n                                                                ))}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    );\r\n                                                })}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                ) : (\r\n                    <p>{__(\"No data available to display.\", \"text-domain\")}</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Edit;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const { registerBlockType } = wp.blocks;\r\n\r\nimport block from './block.json';\r\nimport Edit from './edit.js';\r\n// import './style.scss';\r\n// import './editor.scss';\r\n\r\nregisterBlockType(block.name, {\r\n    edit: Edit,\r\n    save() {\r\n        // Blok dynamiczny - dane są generowane po stronie serwera\r\n        return null;\r\n    },\r\n});"],"names":["__","useSelect","wp","data","useBlockProps","blockEditor","useRef","Edit","_ref","attributes","setAttributes","blockProps","comparisons","select","getEntityRecords","per_page","_fields","orderby","order","_React$useState","React","useState","_React$useState2","_slicedToArray","openAccordions","setOpenAccordions","accordionRefs","toggleAccordion","index","prevState","_objectSpread","_defineProperty","parseContent","content","strippedContent","replace","trim","decodedContent","match","dec","String","fromCharCode","cleanedContent","JSON","parse","err","console","error","createElement","className","length","map","comparison","_accordionRefs$curren","parsedContent","rendered","isOpen","key","id","concat","type","onClick","title","ref","el","current","style","maxHeight","scrollHeight","transition","item","itemIndex","maxRows","Math","max","catholic","protestant","rows","Array","from","_","rowIndex","topic","row","registerBlockType","blocks","block","name","edit","save"],"sourceRoot":""}