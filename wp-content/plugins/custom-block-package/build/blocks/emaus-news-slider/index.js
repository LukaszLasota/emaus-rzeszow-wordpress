(()=>{"use strict";var e,t={814:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.blockEditor,l=window.wp.components,o=window.wp.data,n=window.wp.i18n,r=JSON.parse('{"apiVersion":3,"name":"custom-block-package/emaus-news-slider","title":"Slider Aktualności Emaus","category":"custom-blocks-from-scratch","icon":"slides","description":"Wyświetla najnowsze aktualności jako slider","attributes":{"numberOfPosts":{"type":"number","default":3},"category":{"type":"string","default":""},"autoplay":{"type":"boolean","default":true},"autoplaySpeed":{"type":"number","default":3000},"sliderWidth":{"type":"string","default":"100"},"mobileWidth":{"type":"string","default":"100"},"sliderPadding":{"type":"number","default":0},"linkDestination":{"type":"string","default":"post"},"headingText":{"type":"string","default":"Aktualności"}},"supports":{"html":false},"textdomain":"custom-block-package","editorScript":"file:./index.js","editorStyle":["glide-core-style","file:./index.css"],"viewScript":["glide-init-script","file:./frontend.js"],"viewStyle":["glide-core-style","file:./style-index.css"],"render":"file:./render.php"}');(0,e.registerBlockType)(r.name,{...r,edit:function({attributes:e,setAttributes:r}){const{numberOfPosts:s,category:c,autoplay:i,autoplaySpeed:u,linkDestination:d,headingText:m}=e,p=(0,o.useSelect)(e=>e("core").getEntityRecords("taxonomy","category",{per_page:-1}),[]),g=(0,o.useSelect)(e=>{const t=e("core").getEntityRecords("postType","post",{per_page:1,_embed:!0,status:"publish"});return t&&t.length>0?t[0]:null},[]),k=p?[{value:"",label:(0,n.__)("Wszystkie kategorie","custom-block-package")},...p.map(e=>({value:e.id.toString(),label:e.name}))]:[{value:"",label:(0,n.__)("Ładowanie...","custom-block-package")}],b=[{value:"post",label:(0,n.__)("Do poszczególnych aktualności","custom-block-package")},{value:"news_page",label:(0,n.__)("Do strony aktualności","custom-block-package")}],_=(()=>{if(!g)return null;const e=g.title?.rendered||"",t=g.excerpt?.rendered?g.excerpt.rendered.replace(/<[^>]+>/g,"").substring(0,100)+"...":"";let a=null;if(g._embedded&&g._embedded["wp:featuredmedia"]){const e=g._embedded["wp:featuredmedia"][0];e&&e.source_url&&(a=e.source_url)}return{title:e,excerpt:t,featuredImage:a}})();return(0,t.createElement)("div",{...(0,a.useBlockProps)()},(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Ustawienia slidera aktualności","custom-block-package")},(0,t.createElement)(l.TextControl,{label:(0,n.__)("Nagłówek","custom-block-package"),value:m,onChange:e=>r({headingText:e}),__nextHasNoMarginBottom:!0}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Liczba aktualności","custom-block-package"),value:s,onChange:e=>r({numberOfPosts:e}),min:1,max:10,__nextHasNoMarginBottom:!0}),(0,t.createElement)(l.SelectControl,{label:(0,n.__)("Kategoria","custom-block-package"),value:c,options:k,onChange:e=>r({category:e}),__nextHasNoMarginBottom:!0}),(0,t.createElement)(l.SelectControl,{label:(0,n.__)("Cel linków","custom-block-package"),value:d||"post",options:b,onChange:e=>r({linkDestination:e}),help:(0,n.__)("Wybierz, czy linki powinny prowadzić do poszczególnych aktualności, czy do strony z aktualnościami","custom-block-package"),__nextHasNoMarginBottom:!0}),(0,t.createElement)(l.ToggleControl,{label:(0,n.__)("Automatyczne przewijanie","custom-block-package"),checked:i,onChange:e=>r({autoplay:e}),__nextHasNoMarginBottom:!0}),i&&(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Czas pomiędzy slajdami (ms)","custom-block-package"),value:u,onChange:e=>r({autoplaySpeed:e}),min:1e3,max:1e4,step:500,__nextHasNoMarginBottom:!0}))),(0,t.createElement)("div",{className:"emaus-news-slider-editor"},(0,t.createElement)("div",{className:"emaus-news-slider"},(0,t.createElement)("h2",{className:"emaus-news-heading"},m),_?(0,t.createElement)("div",{className:"slider-content-wrapper"},(0,t.createElement)("div",{className:"news-slide"},(0,t.createElement)("div",{className:"news-image"},_.featuredImage?(0,t.createElement)("img",{src:_.featuredImage,alt:_.title,className:"news-thumbnail"}):(0,t.createElement)("div",{className:"news-image-placeholder"},(0,n.__)("Brak obrazka","custom-block-package"))),(0,t.createElement)("div",{className:"news-content"},(0,t.createElement)("h3",{dangerouslySetInnerHTML:{__html:_.title}}),(0,t.createElement)("p",{className:"news-short-content"},_.excerpt)))):(0,t.createElement)("p",null,(0,n.__)("Ładowanie...","custom-block-package")))))},save:function(){return null}})}},a={};function l(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,a,o,n)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,o,n]=e[u],s=!0,c=0;c<a.length;c++)(!1&n||r>=n)&&Object.keys(l.O).every(e=>l.O[e](a[c]))?a.splice(c--,1):(s=!1,n<r&&(r=n));if(s){e.splice(u--,1);var i=o();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,o,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={48:0,528:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[r,s,c]=a,i=0;if(r.some(t=>0!==e[t])){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(c)var u=c(l)}for(t&&t(a);i<r.length;i++)n=r[i],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(u)},a=globalThis.webpackChunkcustom_block_package=globalThis.webpackChunkcustom_block_package||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=l.O(void 0,[528],()=>l(814));o=l.O(o)})();